<dataConfig>
  <dataSource type="JdbcDataSource" 
              driver="org.postgresql.Driver"
              url="jdbc:postgresql://localhost/acl_development" 
              user="nglinh" 
              password=""/>
  <!-- <script>
    <![CDATA[
      function appendName(row) {
        var name = "";
        name += row.get('first_name') + ' ';
        name += row.get('last_name');
        row.put('author', name);
        return row; 
      }
    ]]>
  </script> -->
  <document>
    <!-- <entity name="Person" 
            query="select * from people">
            <field column="FIRST_NAME" name="first_name"/>
            <field column="LAST_NAME" name="last_name"/>

    </entity> 
    SELECT * FROM papers P, people A, papers_people PA
            WHERE P.id = PA.paper_id AND A.id = PA.person_id
  -->
    <entity name="paper"
            query="SELECT * FROM papers">
            <field column="title" name="title"/>
            <field column="title" name="title_unstem"/>
            <field column="year" name="publish_date"/>
            <entity name="papers_people" query="SELECT person_id FROM papers_people WHERE paper_id='${paper.id}'">
              <entity name="person" query="SELECT * FROM people WHERE id='${papers_people.person_id}'">
                <field column="first_name" name="first_name"/>
                <field column="last_name" name="last_name"/>
                <field column="full_name" name="author"/>
              </entity>
            </entity>
    </entity>
    <entity name="sig"
            query="SELECT * FROM sigs">
            <field column="name" name="sig_name"/>
            <field column="sigid" name="sig_id"/>
            <field column="url" name="sig_url"/>
    </entity>
    <!-- <entity name="User"
            query="select * from users">
    </entity> -->
  </document>
</dataConfig>